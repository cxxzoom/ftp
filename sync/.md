# ftp
## 需求
保持两边同一个文件夹的资源文件一致

## 具体需求
文件是按日期保存的，比如隔一周或者几天创建一个文件夹。

## 思路：
写两个服务：
1. 发送者
    需要做的事情是遍历
2. 接收者


## 新创建一个文件作为 all_complete
他不是按日期作为分类的吗，
一次只扫秒一个大的文件夹，扫描他下面的所有文件，发送者把所有的文件明
发给  发送者服务  ，然后对比差异文件，然后再做文件上传的操作

正在上传的文件就创建个文件，名字就叫  dir_name.lock，表示正在上传的文件，如果存在 .lock,则不进行扫描操作

好像是要写成一个服务的方式相互调用？ 接收者如果没得lock文件，则创建需要把

## 有没有更好的办法呢？ 在yaml里面设置写每个日期文件夹下的文件个数？

## 或者给个map的接口，返回这个目录下的文件名以及文件的个数

## 再整理思路

发：
收：

大的流程： 发送者去看他有无.lock文件，如果没有就获取对面的all_complete文件，如果为空则开始传文件；接收者就


# 文件压缩再分片上传

## 把某个文件夹全部压缩

然后切片保存

传过去的时候，校验文件的完整性再通过手段合并

## 